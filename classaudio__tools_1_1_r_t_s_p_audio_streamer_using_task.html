<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>arduino-audio-tools: RTSPAudioStreamerUsingTask&lt; Platform &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">arduino-audio-tools
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceaudio__tools.html">audio_tools</a></li><li class="navelem"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html">RTSPAudioStreamerUsingTask</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">RTSPAudioStreamerUsingTask&lt; Platform &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html" title="RTSPAudioStreamerUsingTask - Task-driven RTP Audio Streaming Engine.">RTSPAudioStreamerUsingTask</a> - Task-driven RTP Audio Streaming Engine.  
 <a href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_r_t_s_p_audio_streamer_8h_source.html">RTSPAudioStreamer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RTSPAudioStreamerUsingTask&lt; Platform &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.png" usemap="#RTSPAudioStreamerUsingTask_3C_20Platform_20_3E_map" alt=""/>
  <map id="RTSPAudioStreamerUsingTask_3C_20Platform_20_3E_map" name="RTSPAudioStreamerUsingTask_3C_20Platform_20_3E_map">
<area href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html" title="RTSPAudioStreamerBase - Core RTP Audio Streaming Engine." alt="RTSPAudioStreamerBase&lt; Platform &gt;" shape="rect" coords="0,0,254,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5b8b08377ce83f569d2874c3a4b31f28" id="r_a5b8b08377ce83f569d2874c3a4b31f28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a5b8b08377ce83f569d2874c3a4b31f28">RTSPAudioStreamerUsingTask</a> (bool throttled=true)</td></tr>
<tr class="memdesc:a5b8b08377ce83f569d2874c3a4b31f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html" title="RTSPAudioStreamerUsingTask - Task-driven RTP Audio Streaming Engine.">RTSPAudioStreamerUsingTask</a>.  <br /></td></tr>
<tr class="separator:a5b8b08377ce83f569d2874c3a4b31f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a014b170f411c4895734cafaf585efacc" id="r_a014b170f411c4895734cafaf585efacc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a014b170f411c4895734cafaf585efacc">RTSPAudioStreamerUsingTask</a> (<a class="el" href="classaudio__tools_1_1_i_audio_source.html">IAudioSource</a> &amp;source, bool throttled=true)</td></tr>
<tr class="memdesc:a014b170f411c4895734cafaf585efacc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor with audio source and throttling control.  <br /></td></tr>
<tr class="separator:a014b170f411c4895734cafaf585efacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20bf27cfbc32524df8e728de045287ac" id="r_a20bf27cfbc32524df8e728de045287ac"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a20bf27cfbc32524df8e728de045287ac">~RTSPAudioStreamerUsingTask</a> ()</td></tr>
<tr class="memdesc:a20bf27cfbc32524df8e728de045287ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:a20bf27cfbc32524df8e728de045287ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0415192ed1e71a5ea86d24a5084292d" id="r_af0415192ed1e71a5ea86d24a5084292d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#af0415192ed1e71a5ea86d24a5084292d">checkTimerPeriodChange</a> ()</td></tr>
<tr class="memdesc:af0415192ed1e71a5ea86d24a5084292d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if timer period has changed and update if necessary.  <br /></td></tr>
<tr class="separator:af0415192ed1e71a5ea86d24a5084292d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a9968073bbb605a3aa80c99410d67b" id="r_a71a9968073bbb605a3aa80c99410d67b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a71a9968073bbb605a3aa80c99410d67b">currentRtpTimestamp</a> () const</td></tr>
<tr class="memdesc:a71a9968073bbb605a3aa80c99410d67b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current RTP timestamp value that will be used in the next packet.  <br /></td></tr>
<tr class="separator:a71a9968073bbb605a3aa80c99410d67b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06ecc9b166406927d0e3546003aab62" id="r_aa06ecc9b166406927d0e3546003aab62"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#aa06ecc9b166406927d0e3546003aab62">currentSeq</a> () const</td></tr>
<tr class="memdesc:aa06ecc9b166406927d0e3546003aab62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current RTP sequence number that will be used in the next packet.  <br /></td></tr>
<tr class="separator:aa06ecc9b166406927d0e3546003aab62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ef0fb0a2be3d7b560826fbbd348e31" id="r_a90ef0fb0a2be3d7b560826fbbd348e31"><td class="memItemLeft" align="right" valign="top"><a id="a90ef0fb0a2be3d7b560826fbbd348e31" name="a90ef0fb0a2be3d7b560826fbbd348e31"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>currentSsrc</b> () const</td></tr>
<tr class="memdesc:a90ef0fb0a2be3d7b560826fbbd348e31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current SSRC used in RTP header. <br /></td></tr>
<tr class="separator:a90ef0fb0a2be3d7b560826fbbd348e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a159acbbc290a28817c5b2999228160b7" id="r_a159acbbc290a28817c5b2999228160b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classaudio__tools_1_1_i_audio_source.html">IAudioSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a159acbbc290a28817c5b2999228160b7">getAudioSource</a> ()</td></tr>
<tr class="memdesc:a159acbbc290a28817c5b2999228160b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the configured audio source.  <br /></td></tr>
<tr class="separator:a159acbbc290a28817c5b2999228160b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8cf5cd2eecc5223555b6c702e825b1b" id="r_ab8cf5cd2eecc5223555b6c702e825b1b"><td class="memItemLeft" align="right" valign="top">u_short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ab8cf5cd2eecc5223555b6c702e825b1b">getRtcpServerPort</a> ()</td></tr>
<tr class="memdesc:ab8cf5cd2eecc5223555b6c702e825b1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the RTCP server port number.  <br /></td></tr>
<tr class="separator:ab8cf5cd2eecc5223555b6c702e825b1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c9a665e92202a137b24040b6d64283" id="r_ad4c9a665e92202a137b24040b6d64283"><td class="memItemLeft" align="right" valign="top">u_short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ad4c9a665e92202a137b24040b6d64283">getRtpServerPort</a> ()</td></tr>
<tr class="memdesc:ad4c9a665e92202a137b24040b6d64283"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the RTP server port number.  <br /></td></tr>
<tr class="separator:ad4c9a665e92202a137b24040b6d64283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9969adc1db5346859ded9603227eaaa4" id="r_a9969adc1db5346859ded9603227eaaa4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a9969adc1db5346859ded9603227eaaa4">getTimerPeriodMs</a> () const</td></tr>
<tr class="memdesc:a9969adc1db5346859ded9603227eaaa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the timer period in milliseconds.  <br /></td></tr>
<tr class="separator:a9969adc1db5346859ded9603227eaaa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae86982cf06f3c982a1f474aa197b1096" id="r_ae86982cf06f3c982a1f474aa197b1096"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ae86982cf06f3c982a1f474aa197b1096">getTimerPeriodUs</a> () const</td></tr>
<tr class="memdesc:ae86982cf06f3c982a1f474aa197b1096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the timer period in microseconds.  <br /></td></tr>
<tr class="separator:ae86982cf06f3c982a1f474aa197b1096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704b0d275196ffabc243ae9f3f4e4156" id="r_a704b0d275196ffabc243ae9f3f4e4156"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a704b0d275196ffabc243ae9f3f4e4156">initAudioSource</a> ()</td></tr>
<tr class="memdesc:a704b0d275196ffabc243ae9f3f4e4156"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize audio source configuration.  <br /></td></tr>
<tr class="separator:a704b0d275196ffabc243ae9f3f4e4156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae55eca9a46cc796f136913ba90bfb9af" id="r_ae55eca9a46cc796f136913ba90bfb9af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ae55eca9a46cc796f136913ba90bfb9af">initTcpInterleavedTransport</a> (typename Platform::TcpClientType *tcpSock, int rtpChannel, int rtcpChannel)</td></tr>
<tr class="memdesc:ae55eca9a46cc796f136913ba90bfb9af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize TCP interleaved transport for RTP over RTSP.  <br /></td></tr>
<tr class="separator:ae55eca9a46cc796f136913ba90bfb9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a026f00812a83599af0afb3423b136d5f" id="r_a026f00812a83599af0afb3423b136d5f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a026f00812a83599af0afb3423b136d5f">initUdpTransport</a> (IPAddress aClientIP, uint16_t aClientPort)</td></tr>
<tr class="memdesc:a026f00812a83599af0afb3423b136d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize UDP transport for RTP streaming.  <br /></td></tr>
<tr class="separator:a026f00812a83599af0afb3423b136d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9204065425ecb73a09ccd78b1c884a10" id="r_a9204065425ecb73a09ccd78b1c884a10"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a9204065425ecb73a09ccd78b1c884a10">isTaskRunning</a> () const</td></tr>
<tr class="memdesc:a9204065425ecb73a09ccd78b1c884a10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if streaming task is currently running.  <br /></td></tr>
<tr class="separator:a9204065425ecb73a09ccd78b1c884a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeea79f440902ca830b8b0aa3b598351b" id="r_aeea79f440902ca830b8b0aa3b598351b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#aeea79f440902ca830b8b0aa3b598351b">releaseUdpTransport</a> (void)</td></tr>
<tr class="memdesc:aeea79f440902ca830b8b0aa3b598351b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release UDP transport resources.  <br /></td></tr>
<tr class="separator:aeea79f440902ca830b8b0aa3b598351b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad65a0186df32e8e4ac527f9fe7c4ad43" id="r_ad65a0186df32e8e4ac527f9fe7c4ad43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ad65a0186df32e8e4ac527f9fe7c4ad43">sendRtpPacketDirect</a> ()</td></tr>
<tr class="memdesc:ad65a0186df32e8e4ac527f9fe7c4ad43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a single RTP packet with audio data.  <br /></td></tr>
<tr class="separator:ad65a0186df32e8e4ac527f9fe7c4ad43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc58cb48b57d1c35034e105fcabdd3b" id="r_a7cc58cb48b57d1c35034e105fcabdd3b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a7cc58cb48b57d1c35034e105fcabdd3b">setAudioSource</a> (<a class="el" href="classaudio__tools_1_1_i_audio_source.html">IAudioSource</a> *source)</td></tr>
<tr class="memdesc:a7cc58cb48b57d1c35034e105fcabdd3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the audio source for streaming.  <br /></td></tr>
<tr class="separator:a7cc58cb48b57d1c35034e105fcabdd3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3008a8d2c172d08e7e46259d6fc73373" id="r_a3008a8d2c172d08e7e46259d6fc73373"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a3008a8d2c172d08e7e46259d6fc73373">setFixedDelayMs</a> (uint32_t delayUs)</td></tr>
<tr class="memdesc:a3008a8d2c172d08e7e46259d6fc73373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a fixed inter-packet delay in non-throttled mode.  <br /></td></tr>
<tr class="separator:a3008a8d2c172d08e7e46259d6fc73373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f6c71e294149ee4dba2e6e58a85623" id="r_ab6f6c71e294149ee4dba2e6e58a85623"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#ab6f6c71e294149ee4dba2e6e58a85623">setTaskParameters</a> (uint32_t stackSize, uint8_t priority, int core=-1)</td></tr>
<tr class="memdesc:ab6f6c71e294149ee4dba2e6e58a85623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set task parameters for streaming task.  <br /></td></tr>
<tr class="separator:ab6f6c71e294149ee4dba2e6e58a85623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e419905e15ba7b95555a992277b8c2" id="r_a36e419905e15ba7b95555a992277b8c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a36e419905e15ba7b95555a992277b8c2">setThrottled</a> (bool isThrottled)</td></tr>
<tr class="memdesc:a36e419905e15ba7b95555a992277b8c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable throttled timing mode.  <br /></td></tr>
<tr class="separator:a36e419905e15ba7b95555a992277b8c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf830e8a419fefc13ea5a71fb18c561" id="r_a8cf830e8a419fefc13ea5a71fb18c561"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a8cf830e8a419fefc13ea5a71fb18c561">setThrottleInterval</a> (uint32_t interval)</td></tr>
<tr class="memdesc:a8cf830e8a419fefc13ea5a71fb18c561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the throttle interval (number of sends before precise correction)  <br /></td></tr>
<tr class="separator:a8cf830e8a419fefc13ea5a71fb18c561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d5d9ebd12cd3a7d268bc98a3fc7bf97" id="r_a5d5d9ebd12cd3a7d268bc98a3fc7bf97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a5d5d9ebd12cd3a7d268bc98a3fc7bf97">start</a> () override</td></tr>
<tr class="memdesc:a5d5d9ebd12cd3a7d268bc98a3fc7bf97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start task-driven RTP streaming.  <br /></td></tr>
<tr class="separator:a5d5d9ebd12cd3a7d268bc98a3fc7bf97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3536e22848ce87b16a9b96d6d824d45" id="r_ab3536e22848ce87b16a9b96d6d824d45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#ab3536e22848ce87b16a9b96d6d824d45">stop</a> () override</td></tr>
<tr class="memdesc:ab3536e22848ce87b16a9b96d6d824d45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop task-driven RTP streaming.  <br /></td></tr>
<tr class="separator:ab3536e22848ce87b16a9b96d6d824d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a8a7b3d5cfc7cf35d1e0cf1becd0ddda9" id="r_a8a7b3d5cfc7cf35d1e0cf1becd0ddda9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a8a7b3d5cfc7cf35d1e0cf1becd0ddda9">timerCallback</a> (void *audioStreamerObj)</td></tr>
<tr class="memdesc:a8a7b3d5cfc7cf35d1e0cf1becd0ddda9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static timer callback function for periodic RTP streaming.  <br /></td></tr>
<tr class="separator:a8a7b3d5cfc7cf35d1e0cf1becd0ddda9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0956dff89ced4511e23b4d664fc688dd" id="r_a0956dff89ced4511e23b4d664fc688dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a0956dff89ced4511e23b4d664fc688dd">applyThrottling</a> (unsigned long iterationStartUs)</td></tr>
<tr class="memdesc:a0956dff89ced4511e23b4d664fc688dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply streaming throttling policy.  <br /></td></tr>
<tr class="separator:a0956dff89ced4511e23b4d664fc688dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7864f87f47f3bab6212d77473ee020" id="r_a4c7864f87f47f3bab6212d77473ee020"><td class="memItemLeft" align="right" valign="top"><a id="a4c7864f87f47f3bab6212d77473ee020" name="a4c7864f87f47f3bab6212d77473ee020"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>buildRtpHeader</b> ()</td></tr>
<tr class="separator:a4c7864f87f47f3bab6212d77473ee020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bbbf3502c5d260e3bfe100f3b2e4665" id="r_a7bbbf3502c5d260e3bfe100f3b2e4665"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a7bbbf3502c5d260e3bfe100f3b2e4665">computeTimestampIncrement</a> (int bytesSent)</td></tr>
<tr class="memdesc:a7bbbf3502c5d260e3bfe100f3b2e4665"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute RTP timestamp increment based on samples sent.  <br /></td></tr>
<tr class="separator:a7bbbf3502c5d260e3bfe100f3b2e4665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d49d834b0c9fb21347a8d52d32f390" id="r_ac1d49d834b0c9fb21347a8d52d32f390"><td class="memItemLeft" align="right" valign="top"><a id="ac1d49d834b0c9fb21347a8d52d32f390" name="ac1d49d834b0c9fb21347a8d52d32f390"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sendOut</b> (uint16_t totalLen)</td></tr>
<tr class="separator:ac1d49d834b0c9fb21347a8d52d32f390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f8a33d9d68aff9bbf22d03c95e8710" id="r_ac5f8a33d9d68aff9bbf22d03c95e8710"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#ac5f8a33d9d68aff9bbf22d03c95e8710">streamingTaskLoop</a> ()</td></tr>
<tr class="memdesc:ac5f8a33d9d68aff9bbf22d03c95e8710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main streaming task loop iteration.  <br /></td></tr>
<tr class="separator:ac5f8a33d9d68aff9bbf22d03c95e8710"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a45d4c712694f9df64529e4954ba4e5ad" id="r_a45d4c712694f9df64529e4954ba4e5ad"><td class="memItemLeft" align="right" valign="top"><a id="a45d4c712694f9df64529e4954ba4e5ad" name="a45d4c712694f9df64529e4954ba4e5ad"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>HEADER_SIZE</b> = 12</td></tr>
<tr class="separator:a45d4c712694f9df64529e4954ba4e5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905b7e64fe8e96fd9565c5a917c4990f" id="r_a905b7e64fe8e96fd9565c5a917c4990f"><td class="memItemLeft" align="right" valign="top"><a id="a905b7e64fe8e96fd9565c5a917c4990f" name="a905b7e64fe8e96fd9565c5a917c4990f"></a>
<a class="el" href="classaudio__tools_1_1_i_audio_source.html">IAudioSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>m_audioSource</b> = nullptr</td></tr>
<tr class="separator:a905b7e64fe8e96fd9565c5a917c4990f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f0f54dcede73c74a19238b43945ace" id="r_ac4f0f54dcede73c74a19238b43945ace"><td class="memItemLeft" align="right" valign="top"><a id="ac4f0f54dcede73c74a19238b43945ace" name="ac4f0f54dcede73c74a19238b43945ace"></a>
IPAddress&#160;</td><td class="memItemRight" valign="bottom"><b>m_ClientIP</b></td></tr>
<tr class="separator:ac4f0f54dcede73c74a19238b43945ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a211e862d97f2e8847b4a4662c137c" id="r_af7a211e862d97f2e8847b4a4662c137c"><td class="memItemLeft" align="right" valign="top"><a id="af7a211e862d97f2e8847b4a4662c137c" name="af7a211e862d97f2e8847b4a4662c137c"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_ClientPort</b></td></tr>
<tr class="separator:af7a211e862d97f2e8847b4a4662c137c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfa1510fab38dd33caeece92fac96c3" id="r_a7cfa1510fab38dd33caeece92fac96c3"><td class="memItemLeft" align="right" valign="top"><a id="a7cfa1510fab38dd33caeece92fac96c3" name="a7cfa1510fab38dd33caeece92fac96c3"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_fixed_delay_ms</b> = 1</td></tr>
<tr class="memdesc:a7cfa1510fab38dd33caeece92fac96c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixed delay in milliseconds (if used) <br /></td></tr>
<tr class="separator:a7cfa1510fab38dd33caeece92fac96c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46115f79bf7810fb5646366430e83a6b" id="r_a46115f79bf7810fb5646366430e83a6b"><td class="memItemLeft" align="right" valign="top"><a id="a46115f79bf7810fb5646366430e83a6b" name="a46115f79bf7810fb5646366430e83a6b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_fragmentSize</b> = 0</td></tr>
<tr class="separator:a46115f79bf7810fb5646366430e83a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68deb7663f8bf56e474d4ee0a92d6f62" id="r_a68deb7663f8bf56e474d4ee0a92d6f62"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a68deb7663f8bf56e474d4ee0a92d6f62">m_last_throttle_us</a></td></tr>
<tr class="memdesc:a68deb7663f8bf56e474d4ee0a92d6f62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start timestamp of current throttle window (micros)  <br /></td></tr>
<tr class="separator:a68deb7663f8bf56e474d4ee0a92d6f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8998b547550fe5e57e50e4a8c22bc1" id="r_a8d8998b547550fe5e57e50e4a8c22bc1"><td class="memItemLeft" align="right" valign="top"><a id="a8d8998b547550fe5e57e50e4a8c22bc1" name="a8d8998b547550fe5e57e50e4a8c22bc1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_lastSamplesSent</b> = 0</td></tr>
<tr class="separator:a8d8998b547550fe5e57e50e4a8c22bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add52c773f5cb1d76a4a268c98778c33f" id="r_add52c773f5cb1d76a4a268c98778c33f"><td class="memItemLeft" align="right" valign="top"><a id="add52c773f5cb1d76a4a268c98778c33f" name="add52c773f5cb1d76a4a268c98778c33f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_payloadType</b> = 96</td></tr>
<tr class="separator:add52c773f5cb1d76a4a268c98778c33f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3678f5d627584333afb0c2aa712223" id="r_a0e3678f5d627584333afb0c2aa712223"><td class="memItemLeft" align="right" valign="top"><a id="a0e3678f5d627584333afb0c2aa712223" name="a0e3678f5d627584333afb0c2aa712223"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_prevMsec</b></td></tr>
<tr class="separator:a0e3678f5d627584333afb0c2aa712223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93e54f9df7fbc3f71874df3fffb4daf" id="r_ac93e54f9df7fbc3f71874df3fffb4daf"><td class="memItemLeft" align="right" valign="top"><a id="ac93e54f9df7fbc3f71874df3fffb4daf" name="ac93e54f9df7fbc3f71874df3fffb4daf"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_RtcpServerPort</b></td></tr>
<tr class="separator:ac93e54f9df7fbc3f71874df3fffb4daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212f8a97797d58d43f4143378d9faaf0" id="r_a212f8a97797d58d43f4143378d9faaf0"><td class="memItemLeft" align="right" valign="top"><a id="a212f8a97797d58d43f4143378d9faaf0" name="a212f8a97797d58d43f4143378d9faaf0"></a>
Platform::UdpSocketType *&#160;</td><td class="memItemRight" valign="bottom"><b>m_RtcpSocket</b></td></tr>
<tr class="separator:a212f8a97797d58d43f4143378d9faaf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db8e6ed3fd545797b91be4b64e61060" id="r_a7db8e6ed3fd545797b91be4b64e61060"><td class="memItemLeft" align="right" valign="top"><a id="a7db8e6ed3fd545797b91be4b64e61060" name="a7db8e6ed3fd545797b91be4b64e61060"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_RtpServerPort</b></td></tr>
<tr class="separator:a7db8e6ed3fd545797b91be4b64e61060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5146ffd8003313d15cb0161f7c4dab61" id="r_a5146ffd8003313d15cb0161f7c4dab61"><td class="memItemLeft" align="right" valign="top"><a id="a5146ffd8003313d15cb0161f7c4dab61" name="a5146ffd8003313d15cb0161f7c4dab61"></a>
Platform::UdpSocketType *&#160;</td><td class="memItemRight" valign="bottom"><b>m_RtpSocket</b></td></tr>
<tr class="separator:a5146ffd8003313d15cb0161f7c4dab61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff3f8cbd07677c4102f315157a0d532" id="r_a3ff3f8cbd07677c4102f315157a0d532"><td class="memItemLeft" align="right" valign="top"><a id="a3ff3f8cbd07677c4102f315157a0d532" name="a3ff3f8cbd07677c4102f315157a0d532"></a>
Platform::TcpClientType *&#160;</td><td class="memItemRight" valign="bottom"><b>m_RtspTcpSocket</b></td></tr>
<tr class="separator:a3ff3f8cbd07677c4102f315157a0d532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9f819acae21e5323ff67d73aa8ddbf" id="r_adc9f819acae21e5323ff67d73aa8ddbf"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#adc9f819acae21e5323ff67d73aa8ddbf">m_send_counter</a></td></tr>
<tr class="memdesc:adc9f819acae21e5323ff67d73aa8ddbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts sends within the current throttle window.  <br /></td></tr>
<tr class="separator:adc9f819acae21e5323ff67d73aa8ddbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fcf20b6607d79047185e6ef5b505400" id="r_a1fcf20b6607d79047185e6ef5b505400"><td class="memItemLeft" align="right" valign="top"><a id="a1fcf20b6607d79047185e6ef5b505400" name="a1fcf20b6607d79047185e6ef5b505400"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_SendIdx</b></td></tr>
<tr class="separator:a1fcf20b6607d79047185e6ef5b505400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5473374d2df8a05a86e39bdc5b2713a" id="r_ac5473374d2df8a05a86e39bdc5b2713a"><td class="memItemLeft" align="right" valign="top"><a id="ac5473374d2df8a05a86e39bdc5b2713a" name="ac5473374d2df8a05a86e39bdc5b2713a"></a>
u_short&#160;</td><td class="memItemRight" valign="bottom"><b>m_SequenceNumber</b></td></tr>
<tr class="separator:ac5473374d2df8a05a86e39bdc5b2713a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0cb41ac7e9b3c6bbfcb2b6b61f1e4fa" id="r_af0cb41ac7e9b3c6bbfcb2b6b61f1e4fa"><td class="memItemLeft" align="right" valign="top"><a id="af0cb41ac7e9b3c6bbfcb2b6b61f1e4fa" name="af0cb41ac7e9b3c6bbfcb2b6b61f1e4fa"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_Ssrc</b> = 0x13F97E67</td></tr>
<tr class="separator:af0cb41ac7e9b3c6bbfcb2b6b61f1e4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f5b7320670d1f46146397a7845b6c3" id="r_a10f5b7320670d1f46146397a7845b6c3"><td class="memItemLeft" align="right" valign="top"><a id="a10f5b7320670d1f46146397a7845b6c3" name="a10f5b7320670d1f46146397a7845b6c3"></a>
<a class="el" href="classaudio__tools_1_1_task.html">audio_tools::Task</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_streamingTask</b></td></tr>
<tr class="memdesc:a10f5b7320670d1f46146397a7845b6c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">AudioTools task for streaming loop. <br /></td></tr>
<tr class="separator:a10f5b7320670d1f46146397a7845b6c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70635fc0cb16569e55d60c0e123342c" id="r_ad70635fc0cb16569e55d60c0e123342c"><td class="memItemLeft" align="right" valign="top"><a id="ad70635fc0cb16569e55d60c0e123342c" name="ad70635fc0cb16569e55d60c0e123342c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_taskCore</b> = -1</td></tr>
<tr class="memdesc:ad70635fc0cb16569e55d60c0e123342c"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPU core affinity (-1 = any core) <br /></td></tr>
<tr class="separator:ad70635fc0cb16569e55d60c0e123342c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b654ffdf097cb9869be159d24405df3" id="r_a7b654ffdf097cb9869be159d24405df3"><td class="memItemLeft" align="right" valign="top"><a id="a7b654ffdf097cb9869be159d24405df3" name="a7b654ffdf097cb9869be159d24405df3"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_taskPriority</b> = 5</td></tr>
<tr class="memdesc:a7b654ffdf097cb9869be159d24405df3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classaudio__tools_1_1_task.html" title="FreeRTOS task.">Task</a> priority (5 = medium priority) <br /></td></tr>
<tr class="separator:a7b654ffdf097cb9869be159d24405df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f84b003e1f1083dd91726e3bfa2cf97" id="r_a1f84b003e1f1083dd91726e3bfa2cf97"><td class="memItemLeft" align="right" valign="top"><a id="a1f84b003e1f1083dd91726e3bfa2cf97" name="a1f84b003e1f1083dd91726e3bfa2cf97"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_taskRunning</b></td></tr>
<tr class="memdesc:a1f84b003e1f1083dd91726e3bfa2cf97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating if task is active. <br /></td></tr>
<tr class="separator:a1f84b003e1f1083dd91726e3bfa2cf97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f8b9eac191078807ee4f5ab22c654e" id="r_ae7f8b9eac191078807ee4f5ab22c654e"><td class="memItemLeft" align="right" valign="top"><a id="ae7f8b9eac191078807ee4f5ab22c654e" name="ae7f8b9eac191078807ee4f5ab22c654e"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_taskStackSize</b> = 8192</td></tr>
<tr class="memdesc:ae7f8b9eac191078807ee4f5ab22c654e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classaudio__tools_1_1_task.html" title="FreeRTOS task.">Task</a> stack size in bytes (8KB default) <br /></td></tr>
<tr class="separator:ae7f8b9eac191078807ee4f5ab22c654e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1ad46b74ce31e2996b380bd6ee829e" id="r_acf1ad46b74ce31e2996b380bd6ee829e"><td class="memItemLeft" align="right" valign="top"><a id="acf1ad46b74ce31e2996b380bd6ee829e" name="acf1ad46b74ce31e2996b380bd6ee829e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_TcpRtcpChannel</b></td></tr>
<tr class="separator:acf1ad46b74ce31e2996b380bd6ee829e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a423d698abe273ea4c12e93632a6de2" id="r_a8a423d698abe273ea4c12e93632a6de2"><td class="memItemLeft" align="right" valign="top"><a id="a8a423d698abe273ea4c12e93632a6de2" name="a8a423d698abe273ea4c12e93632a6de2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_TcpRtpChannel</b></td></tr>
<tr class="separator:a8a423d698abe273ea4c12e93632a6de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5611ebad775c9286da80f5cc0182e580" id="r_a5611ebad775c9286da80f5cc0182e580"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a5611ebad775c9286da80f5cc0182e580">m_throttle_interval</a></td></tr>
<tr class="memdesc:a5611ebad775c9286da80f5cc0182e580"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of sends before precise correction.  <br /></td></tr>
<tr class="separator:a5611ebad775c9286da80f5cc0182e580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addfc902ac1eff0bd3a47dfc36a3cdac2" id="r_addfc902ac1eff0bd3a47dfc36a3cdac2"><td class="memItemLeft" align="right" valign="top"><a id="addfc902ac1eff0bd3a47dfc36a3cdac2" name="addfc902ac1eff0bd3a47dfc36a3cdac2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_throttled</b> = true</td></tr>
<tr class="memdesc:addfc902ac1eff0bd3a47dfc36a3cdac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable precise microsecond timing. <br /></td></tr>
<tr class="separator:addfc902ac1eff0bd3a47dfc36a3cdac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a608e619ae9f69de58b4585aaa370302c" id="r_a608e619ae9f69de58b4585aaa370302c"><td class="memItemLeft" align="right" valign="top"><a id="a608e619ae9f69de58b4585aaa370302c" name="a608e619ae9f69de58b4585aaa370302c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_timer_period_us</b> = 20000</td></tr>
<tr class="separator:a608e619ae9f69de58b4585aaa370302c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0043bd067a18f2b38a73f4d0a34a8620" id="r_a0043bd067a18f2b38a73f4d0a34a8620"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a0043bd067a18f2b38a73f4d0a34a8620">m_timer_restart_needed</a></td></tr>
<tr class="separator:a0043bd067a18f2b38a73f4d0a34a8620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c1bd6dc160075486fb9a9bc68e39a3" id="r_a90c1bd6dc160075486fb9a9bc68e39a3"><td class="memItemLeft" align="right" valign="top"><a id="a90c1bd6dc160075486fb9a9bc68e39a3" name="a90c1bd6dc160075486fb9a9bc68e39a3"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_Timestamp</b></td></tr>
<tr class="separator:a90c1bd6dc160075486fb9a9bc68e39a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61f5c95cc5488e9bbdfceaa582bd551" id="r_ac61f5c95cc5488e9bbdfceaa582bd551"><td class="memItemLeft" align="right" valign="top"><a id="ac61f5c95cc5488e9bbdfceaa582bd551" name="ac61f5c95cc5488e9bbdfceaa582bd551"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_udpRefCount</b></td></tr>
<tr class="separator:ac61f5c95cc5488e9bbdfceaa582bd551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0477f786912773ade3e197c0ada97c0" id="r_ad0477f786912773ade3e197c0ada97c0"><td class="memItemLeft" align="right" valign="top"><a id="ad0477f786912773ade3e197c0ada97c0" name="ad0477f786912773ade3e197c0ada97c0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_useTcpInterleaved</b></td></tr>
<tr class="separator:ad0477f786912773ade3e197c0ada97c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f6313988feeeae1fa751aaf284c5c6" id="r_a17f6313988feeeae1fa751aaf284c5c6"><td class="memItemLeft" align="right" valign="top"><a id="a17f6313988feeeae1fa751aaf284c5c6" name="a17f6313988feeeae1fa751aaf284c5c6"></a>
<a class="el" href="classaudio__tools_1_1_vector.html">audio_tools::Vector</a>&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>mMp3Carry</b></td></tr>
<tr class="separator:a17f6313988feeeae1fa751aaf284c5c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19f198330d34294598a04e581da06bf" id="r_aa19f198330d34294598a04e581da06bf"><td class="memItemLeft" align="right" valign="top"><a id="aa19f198330d34294598a04e581da06bf" name="aa19f198330d34294598a04e581da06bf"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>mMp3CarryLen</b> = 0</td></tr>
<tr class="separator:aa19f198330d34294598a04e581da06bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50a69c0f7040c706c9cf3d32c4d1e79" id="r_ae50a69c0f7040c706c9cf3d32c4d1e79"><td class="memItemLeft" align="right" valign="top"><a id="ae50a69c0f7040c706c9cf3d32c4d1e79" name="ae50a69c0f7040c706c9cf3d32c4d1e79"></a>
<a class="el" href="classaudio__tools_1_1_vector.html">audio_tools::Vector</a>&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>mRtpBuf</b></td></tr>
<tr class="separator:ae50a69c0f7040c706c9cf3d32c4d1e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc04b610213ff85745e77e7ec34bb31b" id="r_abc04b610213ff85745e77e7ec34bb31b"><td class="memItemLeft" align="right" valign="top"><a id="abc04b610213ff85745e77e7ec34bb31b" name="abc04b610213ff85745e77e7ec34bb31b"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>STREAMING_BUFFER_SIZE</b> = 1024 * 3</td></tr>
<tr class="separator:abc04b610213ff85745e77e7ec34bb31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Platform&gt;<br />
class audio_tools::RTSPAudioStreamerUsingTask&lt; Platform &gt;</div><p><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html" title="RTSPAudioStreamerUsingTask - Task-driven RTP Audio Streaming Engine.">RTSPAudioStreamerUsingTask</a> - Task-driven RTP Audio Streaming Engine. </p>
<p>The <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html" title="RTSPAudioStreamerUsingTask - Task-driven RTP Audio Streaming Engine.">RTSPAudioStreamerUsingTask</a> class extends <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html" title="RTSPAudioStreamerBase - Core RTP Audio Streaming Engine.">RTSPAudioStreamerBase</a> with AudioTools Task-driven streaming functionality. Instead of using hardware timers, this class creates a dedicated task that continuously calls the timer callback at the appropriate intervals. This approach provides:</p>
<ul>
<li>All base class functionality (audio source, UDP transport, RTP packets)</li>
<li>Task-based periodic streaming using AudioTools <a class="el" href="classaudio__tools_1_1_task.html" title="FreeRTOS task.">Task</a> class</li>
<li>More predictable scheduling compared to hardware timers</li>
<li>Better resource control and priority management</li>
<li>Reduced timer resource usage</li>
<li>Optional throttling for timing control</li>
</ul>
<p>The throttling feature is particularly important when working with audio sources that can provide data faster than the defined sampling rate, such as file readers, buffer sources, or fast generators. Without throttling, these sources would flood the network with packets faster than real-time playback.</p>
<h1><a class="anchor" id="technical"></a>
Technical Details</h1>
<ul>
<li>Inherits all base class functionality</li>
<li>Uses AudioTools <a class="el" href="classaudio__tools_1_1_task.html" title="FreeRTOS task.">Task</a> class for periodic packet transmission</li>
<li>Configurable task priority, stack size, and CPU core affinity</li>
<li>Optional throttling with microsecond precision timing</li>
<li>Clean task lifecycle management with proper cleanup</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Useful when hardware timers are limited or need different scheduling </dd>
<dd>
Requires FreeRTOS support (ESP32, etc.) </dd>
<dd>
Throttled mode provides more accurate timing but uses more CPU</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Phil Schatzmann </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5b8b08377ce83f569d2874c3a4b31f28" name="a5b8b08377ce83f569d2874c3a4b31f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b8b08377ce83f569d2874c3a4b31f28">&#9670;&#160;</a></span>RTSPAudioStreamerUsingTask() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html">RTSPAudioStreamerUsingTask</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>throttled</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor for <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html" title="RTSPAudioStreamerUsingTask - Task-driven RTP Audio Streaming Engine.">RTSPAudioStreamerUsingTask</a>. </p>
<p>Creates a new <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html" title="RTSPAudioStreamerUsingTask - Task-driven RTP Audio Streaming Engine.">RTSPAudioStreamerUsingTask</a> instance with task functionality. Initializes the base class and sets default task parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">throttled</td><td>Enable precise timing control with microsecond delays. Set to true when your audio source provides data faster than the defined sampling rate (e.g., reading from files, buffers, or fast generators). Set to false when the source naturally produces data at the correct rate (e.g., ADC, microphone input, or rate-limited streams). Default: false for better performance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Audio source must be set using <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a7cc58cb48b57d1c35034e105fcabdd3b" title="Configure the audio source for streaming.">setAudioSource()</a> before streaming </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a7cc58cb48b57d1c35034e105fcabdd3b" title="Configure the audio source for streaming.">setAudioSource()</a>, <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#ab6f6c71e294149ee4dba2e6e58a85623" title="Set task parameters for streaming task.">setTaskParameters()</a> </dd></dl>

</div>
</div>
<a id="a014b170f411c4895734cafaf585efacc" name="a014b170f411c4895734cafaf585efacc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a014b170f411c4895734cafaf585efacc">&#9670;&#160;</a></span>RTSPAudioStreamerUsingTask() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html">RTSPAudioStreamerUsingTask</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaudio__tools_1_1_i_audio_source.html">IAudioSource</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>throttled</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor with audio source and throttling control. </p>
<p>Creates a new <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html" title="RTSPAudioStreamerUsingTask - Task-driven RTP Audio Streaming Engine.">RTSPAudioStreamerUsingTask</a> instance with task functionality and immediately configures it with the specified audio source.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Reference to an object implementing the <a class="el" href="classaudio__tools_1_1_i_audio_source.html" title="Audio Source Interface - Contract for Audio Data Providers.">IAudioSource</a> interface. The source provides audio data and format information. </td></tr>
    <tr><td class="paramname">throttled</td><td>Enable precise timing control with microsecond delays. Set to true when your audio source provides data faster than the defined sampling rate (e.g., reading from files, buffers, or fast generators). Set to false when the source naturally produces data at the correct rate (e.g., ADC, microphone input, or rate-limited streams). Default: false for better performance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The audio source object must remain valid for the lifetime of the streamer </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_i_audio_source.html" title="Audio Source Interface - Contract for Audio Data Providers.">IAudioSource</a>, <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#ab6f6c71e294149ee4dba2e6e58a85623" title="Set task parameters for streaming task.">setTaskParameters()</a> </dd></dl>

</div>
</div>
<a id="a20bf27cfbc32524df8e728de045287ac" name="a20bf27cfbc32524df8e728de045287ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20bf27cfbc32524df8e728de045287ac">&#9670;&#160;</a></span>~RTSPAudioStreamerUsingTask()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html">RTSPAudioStreamerUsingTask</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Ensures the streaming task is properly stopped and cleaned up. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0956dff89ced4511e23b4d664fc688dd" name="a0956dff89ced4511e23b4d664fc688dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0956dff89ced4511e23b4d664fc688dd">&#9670;&#160;</a></span>applyThrottling()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void applyThrottling </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>iterationStartUs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply streaming throttling policy. </p>
<p>Implements the two-stage throttling:</p><ul>
<li>Always delay by <code>m_fixed_delay_ms</code> after each send</li>
<li>Every <code>m_throttle_interval</code> sends, precisely correct drift to match <code>m_timer_period_us</code> pacing</li>
</ul>
<p>Resets the throttle window if the source format changes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iterationStartUs</td><td>Start timestamp of this loop iteration (micros) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af0415192ed1e71a5ea86d24a5084292d" name="af0415192ed1e71a5ea86d24a5084292d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0415192ed1e71a5ea86d24a5084292d">&#9670;&#160;</a></span>checkTimerPeriodChange()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool checkTimerPeriodChange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if timer period has changed and update if necessary. </p>
<p>Checks the audio source format for timer period changes and updates the cached value if different. This enables dynamic timer period adjustments during playback when the audio format changes.</p>
<dl class="section return"><dt>Returns</dt><dd>true if timer period changed, false if unchanged or no audio source </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this periodically to detect format changes during streaming </dd></dl>
<dl class="section see"><dt>See also</dt><dd>updateTimerPeriod() </dd></dl>

</div>
</div>
<a id="a7bbbf3502c5d260e3bfe100f3b2e4665" name="a7bbbf3502c5d260e3bfe100f3b2e4665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bbbf3502c5d260e3bfe100f3b2e4665">&#9670;&#160;</a></span>computeTimestampIncrement()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t computeTimestampIncrement </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bytesSent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute RTP timestamp increment based on samples sent. </p>
<p>Calculates the appropriate RTP timestamp increment based on the number of audio samples sent in the last packet. This ensures proper timing and synchronization in the RTP stream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytesSent</td><td>Number of bytes sent in the last RTP packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated timestamp increment value </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Uses exact samples sent if available, otherwise falls back to audio source format or a crude estimate </dd></dl>

</div>
</div>
<a id="a71a9968073bbb605a3aa80c99410d67b" name="a71a9968073bbb605a3aa80c99410d67b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71a9968073bbb605a3aa80c99410d67b">&#9670;&#160;</a></span>currentRtpTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t currentRtpTimestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get current RTP timestamp value that will be used in the next packet. </p>
<dl class="section return"><dt>Returns</dt><dd>Current RTP timestamp </dd></dl>

</div>
</div>
<a id="aa06ecc9b166406927d0e3546003aab62" name="aa06ecc9b166406927d0e3546003aab62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa06ecc9b166406927d0e3546003aab62">&#9670;&#160;</a></span>currentSeq()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t currentSeq </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get current RTP sequence number that will be used in the next packet. </p>
<dl class="section return"><dt>Returns</dt><dd>Current RTP sequence number </dd></dl>

</div>
</div>
<a id="a159acbbc290a28817c5b2999228160b7" name="a159acbbc290a28817c5b2999228160b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a159acbbc290a28817c5b2999228160b7">&#9670;&#160;</a></span>getAudioSource()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classaudio__tools_1_1_i_audio_source.html">IAudioSource</a> * getAudioSource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the configured audio source. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the current audio source, nullptr if not set </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a7cc58cb48b57d1c35034e105fcabdd3b" title="Configure the audio source for streaming.">setAudioSource()</a> </dd></dl>

</div>
</div>
<a id="ab8cf5cd2eecc5223555b6c702e825b1b" name="ab8cf5cd2eecc5223555b6c702e825b1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8cf5cd2eecc5223555b6c702e825b1b">&#9670;&#160;</a></span>getRtcpServerPort()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u_short getRtcpServerPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the RTCP server port number. </p>
<dl class="section return"><dt>Returns</dt><dd>Port number used for RTCP communication, 0 if not initialized </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a026f00812a83599af0afb3423b136d5f" title="Initialize UDP transport for RTP streaming.">initUdpTransport()</a> </dd></dl>

</div>
</div>
<a id="ad4c9a665e92202a137b24040b6d64283" name="ad4c9a665e92202a137b24040b6d64283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c9a665e92202a137b24040b6d64283">&#9670;&#160;</a></span>getRtpServerPort()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u_short getRtpServerPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the RTP server port number. </p>
<dl class="section return"><dt>Returns</dt><dd>Port number used for RTP packet transmission, 0 if not initialized </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a026f00812a83599af0afb3423b136d5f" title="Initialize UDP transport for RTP streaming.">initUdpTransport()</a> </dd></dl>

</div>
</div>
<a id="a9969adc1db5346859ded9603227eaaa4" name="a9969adc1db5346859ded9603227eaaa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9969adc1db5346859ded9603227eaaa4">&#9670;&#160;</a></span>getTimerPeriodMs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t getTimerPeriodMs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the timer period in milliseconds. </p>
<dl class="section return"><dt>Returns</dt><dd>Timer period in milliseconds for convenience </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ae86982cf06f3c982a1f474aa197b1096" title="Get the timer period in microseconds.">getTimerPeriodUs()</a> </dd></dl>

</div>
</div>
<a id="ae86982cf06f3c982a1f474aa197b1096" name="ae86982cf06f3c982a1f474aa197b1096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae86982cf06f3c982a1f474aa197b1096">&#9670;&#160;</a></span>getTimerPeriodUs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t getTimerPeriodUs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the timer period in microseconds. </p>
<dl class="section return"><dt>Returns</dt><dd>Timer period configured from audio source format </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a704b0d275196ffabc243ae9f3f4e4156" title="Initialize audio source configuration.">initAudioSource()</a> </dd></dl>

</div>
</div>
<a id="a704b0d275196ffabc243ae9f3f4e4156" name="a704b0d275196ffabc243ae9f3f4e4156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a704b0d275196ffabc243ae9f3f4e4156">&#9670;&#160;</a></span>initAudioSource()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool initAudioSource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize audio source configuration. </p>
<p>Extracts and caches configuration parameters from the audio source including fragment size (bytes per packet) and timer period (microseconds between packets). This method must be called before streaming can begin.</p>
<dl class="section return"><dt>Returns</dt><dd>true if initialization succeeded, false if audio source or format is invalid </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Fragment size determines how much audio data is sent per RTP packet </dd>
<dd>
Timer period controls the streaming rate and must match the audio sample rate </dd></dl>

</div>
</div>
<a id="ae55eca9a46cc796f136913ba90bfb9af" name="ae55eca9a46cc796f136913ba90bfb9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae55eca9a46cc796f136913ba90bfb9af">&#9670;&#160;</a></span>initTcpInterleavedTransport()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void initTcpInterleavedTransport </td>
          <td>(</td>
          <td class="paramtype">typename Platform::TcpClientType *&#160;</td>
          <td class="paramname"><em>tcpSock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rtpChannel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rtcpChannel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize TCP interleaved transport for RTP over RTSP. </p>
<p>Configures the streamer to send RTP packets using RTSP TCP interleaving. RTP and RTCP packets are framed with '$', channel byte, and 2-byte length per RFC 2326 section 10.12 and sent over the RTSP control socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tcpSock</td><td>Pointer to the RTSP TCP client socket </td></tr>
    <tr><td class="paramname">rtpChannel</td><td>Interleaved channel number for RTP packets (e.g., 0) </td></tr>
    <tr><td class="paramname">rtcpChannel</td><td>Interleaved channel number for RTCP packets (e.g., 1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a026f00812a83599af0afb3423b136d5f" name="a026f00812a83599af0afb3423b136d5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a026f00812a83599af0afb3423b136d5f">&#9670;&#160;</a></span>initUdpTransport()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool initUdpTransport </td>
          <td>(</td>
          <td class="paramtype">IPAddress&#160;</td>
          <td class="paramname"><em>aClientIP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>aClientPort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize UDP transport for RTP streaming. </p>
<p>Sets up UDP sockets for RTP and RTCP communication with a specific client. Automatically allocates consecutive port pairs starting from 6970. Supports multiple clients through reference counting - subsequent calls with different clients will reuse existing sockets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aClientIP</td><td>IP address of the RTP client that will receive the stream </td></tr>
    <tr><td class="paramname">aClientPort</td><td>Port number on the client for receiving RTP packets </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if transport initialization succeeded, false on socket creation failure</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Port allocation: RTP uses even ports (6970, 6972, ...), RTCP uses odd ports (6971, 6973, ...) </dd>
<dd>
Call <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#aeea79f440902ca830b8b0aa3b598351b" title="Release UDP transport resources.">releaseUdpTransport()</a> when streaming to this client is complete </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#aeea79f440902ca830b8b0aa3b598351b" title="Release UDP transport resources.">releaseUdpTransport()</a>, <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ad4c9a665e92202a137b24040b6d64283" title="Get the RTP server port number.">getRtpServerPort()</a>, <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ab8cf5cd2eecc5223555b6c702e825b1b" title="Get the RTCP server port number.">getRtcpServerPort()</a> </dd></dl>

</div>
</div>
<a id="a9204065425ecb73a09ccd78b1c884a10" name="a9204065425ecb73a09ccd78b1c884a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9204065425ecb73a09ccd78b1c884a10">&#9670;&#160;</a></span>isTaskRunning()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool isTaskRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if streaming task is currently running. </p>
<dl class="section return"><dt>Returns</dt><dd>true if task is active and streaming, false otherwise </dd></dl>

</div>
</div>
<a id="aeea79f440902ca830b8b0aa3b598351b" name="aeea79f440902ca830b8b0aa3b598351b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeea79f440902ca830b8b0aa3b598351b">&#9670;&#160;</a></span>releaseUdpTransport()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void releaseUdpTransport </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release UDP transport resources. </p>
<p>Decrements the reference count for UDP socket usage and closes sockets when no more clients are using them. This implements proper resource management for multiple concurrent streaming sessions.</p>
<dl class="section note"><dt>Note</dt><dd>Only closes sockets when reference count reaches zero </dd>
<dd>
Always call this method when streaming to a client is complete </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a026f00812a83599af0afb3423b136d5f" title="Initialize UDP transport for RTP streaming.">initUdpTransport()</a> </dd></dl>

</div>
</div>
<a id="ad65a0186df32e8e4ac527f9fe7c4ad43" name="ad65a0186df32e8e4ac527f9fe7c4ad43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad65a0186df32e8e4ac527f9fe7c4ad43">&#9670;&#160;</a></span>sendRtpPacketDirect()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sendRtpPacketDirect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a single RTP packet with audio data. </p>
<p>Constructs and sends one RTP packet containing audio data from the configured source. This method handles the complete RTP packet creation process including:</p><ul>
<li>RTP header construction with sequence numbers and timestamps</li>
<li>Audio data retrieval from the source</li>
<li>Network byte order conversion</li>
<li>UDP transmission to the configured client</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes sent in the packet payload, or negative value on error </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>RTP buffer not allocated or audio source not configured</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This method is typically called periodically by the timer-driven streaming </dd>
<dd>
Automatically increments sequence numbers and updates timestamps </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a5d5d9ebd12cd3a7d268bc98a3fc7bf97" title="Start task-driven RTP streaming.">start()</a>, <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a8a7b3d5cfc7cf35d1e0cf1becd0ddda9" title="Static timer callback function for periodic RTP streaming.">timerCallback()</a> </dd></dl>

</div>
</div>
<a id="a7cc58cb48b57d1c35034e105fcabdd3b" name="a7cc58cb48b57d1c35034e105fcabdd3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc58cb48b57d1c35034e105fcabdd3b">&#9670;&#160;</a></span>setAudioSource()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void setAudioSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaudio__tools_1_1_i_audio_source.html">IAudioSource</a> *&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the audio source for streaming. </p>
<p>Sets or changes the audio source that provides data for the RTP stream. This method automatically initializes the audio source configuration including fragment size and timer period based on the source's format specifications.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Pointer to an <a class="el" href="classaudio__tools_1_1_i_audio_source.html" title="Audio Source Interface - Contract for Audio Data Providers.">IAudioSource</a> implementation. Must not be nullptr. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Calling this method will reinitialize audio source parameters </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_i_audio_source.html" title="Audio Source Interface - Contract for Audio Data Providers.">IAudioSource</a>, <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a704b0d275196ffabc243ae9f3f4e4156" title="Initialize audio source configuration.">initAudioSource()</a> </dd></dl>

</div>
</div>
<a id="a3008a8d2c172d08e7e46259d6fc73373" name="a3008a8d2c172d08e7e46259d6fc73373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3008a8d2c172d08e7e46259d6fc73373">&#9670;&#160;</a></span>setFixedDelayMs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void setFixedDelayMs </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>delayUs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a fixed inter-packet delay in non-throttled mode. </p>
<p>Disables microsecond-level throttling and applies a constant delay between iterations of the streaming task using <code>delay()</code>. This is useful when the audio source is naturally rate-limited and a small cooperative sleep is sufficient to avoid busy looping.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delayUs</td><td>Fixed delay in milliseconds applied via <code>delay()</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Calling this method sets throttled mode to false. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a36e419905e15ba7b95555a992277b8c2" title="Enable or disable throttled timing mode.">setThrottled(bool)</a> </dd></dl>

</div>
</div>
<a id="ab6f6c71e294149ee4dba2e6e58a85623" name="ab6f6c71e294149ee4dba2e6e58a85623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f6c71e294149ee4dba2e6e58a85623">&#9670;&#160;</a></span>setTaskParameters()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void setTaskParameters </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>stackSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>core</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set task parameters for streaming task. </p>
<p>Configure the AudioTools <a class="el" href="classaudio__tools_1_1_task.html" title="FreeRTOS task.">Task</a> parameters before starting streaming. These parameters control the task's resource usage and scheduling behavior. Must be called before <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a5d5d9ebd12cd3a7d268bc98a3fc7bf97" title="Start task-driven RTP streaming.">start()</a> to take effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stackSize</td><td><a class="el" href="classaudio__tools_1_1_stack.html" title="LIFO Stack which is based on a List.">Stack</a> size in bytes for the streaming task (default: 8192) Increase if experiencing stack overflow issues </td></tr>
    <tr><td class="paramname">priority</td><td><a class="el" href="classaudio__tools_1_1_task.html" title="FreeRTOS task.">Task</a> priority (0-configMAX_PRIORITIES-1, default: 5) Higher values = higher priority. Use with caution. </td></tr>
    <tr><td class="paramname">core</td><td>CPU core to pin task to (default: -1 for any core) ESP32 only: 0 or 1 for specific core, -1 for automatic </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Higher priority tasks can starve lower priority tasks </dd>
<dd>
Core pinning can improve performance but reduces scheduling flexibility </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot change parameters while streaming is active </dd></dl>

</div>
</div>
<a id="a36e419905e15ba7b95555a992277b8c2" name="a36e419905e15ba7b95555a992277b8c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36e419905e15ba7b95555a992277b8c2">&#9670;&#160;</a></span>setThrottled()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void setThrottled </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isThrottled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable or disable throttled timing mode. </p>
<p>Throttled mode provides more precise timing by using microsecond-level delays, but consumes more CPU resources. This is essential when your audio source can provide data faster than the defined sampling rate.</p>
<p><b>When to enable throttling (isThrottled = true):</b></p><ul>
<li>Audio source reads from files, buffers, or memory</li>
<li>Fast audio generators that can produce data instantly</li>
<li>Sources that don't naturally limit their data rate</li>
<li>When precise timing is critical for synchronization</li>
</ul>
<p><b>When to disable throttling (isThrottled = false):</b></p><ul>
<li>Real-time sources like ADC or microphone input</li>
<li>Sources that naturally produce data at the correct rate</li>
<li>Battery-powered devices where CPU efficiency is important</li>
<li>Rate-limited streams or network sources</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">isThrottled</td><td>true to enable precise timing with delays, false for efficient timing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Can be changed while streaming is active </dd>
<dd>
Throttled mode uses more CPU but prevents audio data overrun </dd>
<dd>
Non-throttled mode is more efficient but requires rate-limited sources </dd></dl>

</div>
</div>
<a id="a8cf830e8a419fefc13ea5a71fb18c561" name="a8cf830e8a419fefc13ea5a71fb18c561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cf830e8a419fefc13ea5a71fb18c561">&#9670;&#160;</a></span>setThrottleInterval()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void setThrottleInterval </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>interval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the throttle interval (number of sends before precise correction) </p>
<p>After each packet send, the streamer delays by a fixed millisecond value. After <code>interval</code> sends, it applies a precise microsecond correction based on the expected elapsed time (interval * timerPeriodUs) versus the actual elapsed time, then resets the interval window.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interval</td><td>Number of sends per throttle window (e.g., 1000 or 10000) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5d5d9ebd12cd3a7d268bc98a3fc7bf97" name="a5d5d9ebd12cd3a7d268bc98a3fc7bf97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d5d9ebd12cd3a7d268bc98a3fc7bf97">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start task-driven RTP streaming. </p>
<p>Begins the RTP streaming process by:</p><ul>
<li>Calling base class <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a5d5d9ebd12cd3a7d268bc98a3fc7bf97" title="Start task-driven RTP streaming.">start()</a> to initialize audio source and buffer</li>
<li>Creating an AudioTools <a class="el" href="classaudio__tools_1_1_task.html" title="FreeRTOS task.">Task</a> for periodic streaming</li>
<li>Beginning task-driven packet transmission</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>UDP transport must be initialized before calling this method </dd>
<dd>
Audio source must be configured before calling this method </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Will log errors if audio source is not properly configured </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#ab3536e22848ce87b16a9b96d6d824d45" title="Stop task-driven RTP streaming.">stop()</a>, <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a026f00812a83599af0afb3423b136d5f" title="Initialize UDP transport for RTP streaming.">initUdpTransport()</a>, <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a7cc58cb48b57d1c35034e105fcabdd3b" title="Configure the audio source for streaming.">setAudioSource()</a> </dd></dl>

<p>Reimplemented from <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a62b63bddf378b0e13a4affa3e8e1bedf">RTSPAudioStreamerBase&lt; Platform &gt;</a>.</p>

</div>
</div>
<a id="ab3536e22848ce87b16a9b96d6d824d45" name="ab3536e22848ce87b16a9b96d6d824d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3536e22848ce87b16a9b96d6d824d45">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop task-driven RTP streaming. </p>
<p>Stops the RTP streaming process by:</p><ul>
<li>Signaling the streaming task to stop</li>
<li>Ending the AudioTools <a class="el" href="classaudio__tools_1_1_task.html" title="FreeRTOS task.">Task</a></li>
<li>Calling base class <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#ab3536e22848ce87b16a9b96d6d824d45" title="Stop task-driven RTP streaming.">stop()</a> to stop the audio source</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Does not release UDP transport or buffers - use <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#aeea79f440902ca830b8b0aa3b598351b" title="Release UDP transport resources.">releaseUdpTransport()</a> separately </dd>
<dd>
Can be restarted by calling <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a5d5d9ebd12cd3a7d268bc98a3fc7bf97" title="Start task-driven RTP streaming.">start()</a> again </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_using_task.html#a5d5d9ebd12cd3a7d268bc98a3fc7bf97" title="Start task-driven RTP streaming.">start()</a>, <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#aeea79f440902ca830b8b0aa3b598351b" title="Release UDP transport resources.">releaseUdpTransport()</a> </dd></dl>

<p>Reimplemented from <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ae92ae13a136435391be883fd6f0f5c8c">RTSPAudioStreamerBase&lt; Platform &gt;</a>.</p>

</div>
</div>
<a id="ac5f8a33d9d68aff9bbf22d03c95e8710" name="ac5f8a33d9d68aff9bbf22d03c95e8710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5f8a33d9d68aff9bbf22d03c95e8710">&#9670;&#160;</a></span>streamingTaskLoop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void streamingTaskLoop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main streaming task loop iteration. </p>
<p>This method contains a single iteration of the streaming loop that is called continuously by the AudioTools <a class="el" href="classaudio__tools_1_1_task.html" title="FreeRTOS task.">Task</a>. Each iteration:</p><ol type="1">
<li>Records start time for performance monitoring</li>
<li>Checks for timer period changes and adjusts if needed</li>
<li>Calls the timer callback to send one RTP packet</li>
<li>Optionally applies throttling delay for precise timing</li>
</ol>
<p>The task runs in its own context using the AudioTools <a class="el" href="classaudio__tools_1_1_task.html" title="FreeRTOS task.">Task</a> class and handles timing based on the throttling mode setting. Dynamic timer period changes are handled seamlessly within the task loop.</p>
<dl class="section note"><dt>Note</dt><dd>This method is called repeatedly by the task framework </dd>
<dd>
Performance is monitored when throttling is enabled </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#a8a7b3d5cfc7cf35d1e0cf1becd0ddda9" title="Static timer callback function for periodic RTP streaming.">timerCallback()</a>, <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#af0415192ed1e71a5ea86d24a5084292d" title="Check if timer period has changed and update if necessary.">checkTimerPeriodChange()</a> </dd></dl>

</div>
</div>
<a id="a8a7b3d5cfc7cf35d1e0cf1becd0ddda9" name="a8a7b3d5cfc7cf35d1e0cf1becd0ddda9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a7b3d5cfc7cf35d1e0cf1becd0ddda9">&#9670;&#160;</a></span>timerCallback()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timerCallback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>audioStreamerObj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Static timer callback function for periodic RTP streaming. </p>
<p>This static method is called periodically by timers to send RTP packets. It handles timing measurements and calls <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ad65a0186df32e8e4ac527f9fe7c4ad43" title="Send a single RTP packet with audio data.">sendRtpPacketDirect()</a> to transmit audio data. Performance monitoring ensures the streaming keeps up with real-time requirements.</p>
<p>This method can be used by any derived class that implements timer-driven streaming functionality.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">audioStreamerObj</td><td>Void pointer to the <a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html" title="RTSPAudioStreamerBase - Core RTP Audio Streaming Engine.">RTSPAudioStreamerBase</a> instance (passed as callback parameter) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This is a static method suitable for use as a timer callback </dd>
<dd>
Logs warnings if packet transmission takes too long </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classaudio__tools_1_1_r_t_s_p_audio_streamer_base.html#ad65a0186df32e8e4ac527f9fe7c4ad43" title="Send a single RTP packet with audio data.">sendRtpPacketDirect()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a68deb7663f8bf56e474d4ee0a92d6f62" name="a68deb7663f8bf56e474d4ee0a92d6f62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68deb7663f8bf56e474d4ee0a92d6f62">&#9670;&#160;</a></span>m_last_throttle_us</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long m_last_throttle_us</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">      0</div>
</div><!-- fragment -->
<p>Start timestamp of current throttle window (micros) </p>

</div>
</div>
<a id="adc9f819acae21e5323ff67d73aa8ddbf" name="adc9f819acae21e5323ff67d73aa8ddbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc9f819acae21e5323ff67d73aa8ddbf">&#9670;&#160;</a></span>m_send_counter</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t m_send_counter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">      0</div>
</div><!-- fragment -->
<p>Counts sends within the current throttle window. </p>

</div>
</div>
<a id="a5611ebad775c9286da80f5cc0182e580" name="a5611ebad775c9286da80f5cc0182e580"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5611ebad775c9286da80f5cc0182e580">&#9670;&#160;</a></span>m_throttle_interval</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t m_throttle_interval</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">      1000</div>
</div><!-- fragment -->
<p>Number of sends before precise correction. </p>

</div>
</div>
<a id="a0043bd067a18f2b38a73f4d0a34a8620" name="a0043bd067a18f2b38a73f4d0a34a8620"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0043bd067a18f2b38a73f4d0a34a8620">&#9670;&#160;</a></span>m_timer_restart_needed</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Platform &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool m_timer_restart_needed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">      <span class="keyword">false</span></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/AudioTools/Communication/RTSP/<a class="el" href="_r_t_s_p_audio_streamer_8h_source.html">RTSPAudioStreamer.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
