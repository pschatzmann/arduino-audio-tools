<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>arduino-audio-tools: VBANStream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">arduino-audio-tools
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceaudio__tools.html">audio_tools</a></li><li class="navelem"><a class="el" href="classaudio__tools_1_1_v_b_a_n_stream.html">VBANStream</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classaudio__tools_1_1_v_b_a_n_stream-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">VBANStream Class Reference<div class="ingroups"><a class="el" href="group__main.html">Arduino Audio Tools</a> &raquo; <a class="el" href="group__communications.html">Communications</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>VBAN Audio Source and Sink for the ESP32. For further details please see <a href="https://vb-audio.com/Voicemeeter/vban.htm">https://vb-audio.com/Voicemeeter/vban.htm</a> . Inspired by <a href="https://github.com/rkinnett/ESP32-VBAN-Audio-Source/tree/master">https://github.com/rkinnett/ESP32-VBAN-Audio-Source/tree/master</a> and <a href="https://github.com/rkinnett/ESP32-VBAN-Network-Audio-Player">https://github.com/rkinnett/ESP32-VBAN-Network-Audio-Player</a>.  
 <a href="classaudio__tools_1_1_v_b_a_n_stream.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_v_b_a_n_stream_8h_source.html">VBANStream.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for VBANStream:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classaudio__tools_1_1_v_b_a_n_stream.png" usemap="#VBANStream_map" alt=""/>
  <map id="VBANStream_map" name="VBANStream_map">
<area href="classaudio__tools_1_1_audio_stream.html" title="Base class for all Audio Streams. It support the boolean operator to test if the object is ready with..." alt="AudioStream" shape="rect" coords="120,168,230,192"/>
<area href="classaudio__tools_1_1_base_stream.html" title="Base class for all Streams. It relies on write(const uint8_t *buffer, size_t size) and readBytes(uint..." alt="BaseStream" shape="rect" coords="0,112,110,136"/>
<area href="classaudio__tools_1_1_audio_info_support.html" title="Supports changes to the sampling rate, bits and channels." alt="AudioInfoSupport" shape="rect" coords="120,112,230,136"/>
<area href="classaudio__tools_1_1_audio_info_source.html" title="Supports the subscription to audio change notifications." alt="AudioInfoSource" shape="rect" coords="240,112,350,136"/>
<area href="classaudio__tools_1_1_stream.html" alt="Stream" shape="rect" coords="0,56,110,80"/>
<area href="classaudio__tools_1_1_print.html" alt="Print" shape="rect" coords="0,0,110,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a727a24459787e1eeeb7a37ba888394a6"><td class="memItemLeft" align="right" valign="top"><a id="a727a24459787e1eeeb7a37ba888394a6"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_audio_info_source.html#a727a24459787e1eeeb7a37ba888394a6">addNotifyAudioChange</a> (<a class="el" href="classaudio__tools_1_1_audio_info_support.html">AudioInfoSupport</a> &amp;bi)</td></tr>
<tr class="memdesc:a727a24459787e1eeeb7a37ba888394a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds target to be notified about audio changes. <br /></td></tr>
<tr class="separator:a727a24459787e1eeeb7a37ba888394a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aececda97cff151859a8695d30896dd20"><td class="memItemLeft" align="right" valign="top"><a id="aececda97cff151859a8695d30896dd20"></a>
virtual <a class="el" href="structaudio__tools_1_1_audio_info.html">AudioInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_audio_stream.html#aececda97cff151859a8695d30896dd20">audioInfo</a> () override</td></tr>
<tr class="memdesc:aececda97cff151859a8695d30896dd20"><td class="mdescLeft">&#160;</td><td class="mdescRight">provides the actual input <a class="el" href="structaudio__tools_1_1_audio_info.html" title="Basic Audio information which drives e.g. I2S.">AudioInfo</a> <br /></td></tr>
<tr class="separator:aececda97cff151859a8695d30896dd20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c77cb3dbe910c765ea439d103bdcbb9"><td class="memItemLeft" align="right" valign="top"><a id="a1c77cb3dbe910c765ea439d103bdcbb9"></a>
virtual <a class="el" href="structaudio__tools_1_1_audio_info.html">AudioInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_audio_info_support.html#a1c77cb3dbe910c765ea439d103bdcbb9">audioInfoOut</a> ()</td></tr>
<tr class="memdesc:a1c77cb3dbe910c765ea439d103bdcbb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">provides the actual output <a class="el" href="structaudio__tools_1_1_audio_info.html" title="Basic Audio information which drives e.g. I2S.">AudioInfo</a>: this is usually the same as <a class="el" href="classaudio__tools_1_1_audio_info_support.html#ae0d5f156b0564368220fa8d328db3880" title="provides the actual input AudioInfo">audioInfo()</a> unless we use a transforming stream <br /></td></tr>
<tr class="separator:a1c77cb3dbe910c765ea439d103bdcbb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4549a76725f2e4c013e4d57018366109"><td class="memItemLeft" align="right" valign="top"><a id="a4549a76725f2e4c013e4d57018366109"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>available</b> ()</td></tr>
<tr class="separator:a4549a76725f2e4c013e4d57018366109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86aa7db83a28e2662e01c57a36681cb0"><td class="memItemLeft" align="right" valign="top"><a id="a86aa7db83a28e2662e01c57a36681cb0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>availableForWrite</b> ()</td></tr>
<tr class="separator:a86aa7db83a28e2662e01c57a36681cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a601fb7cf1fc15db50c71a826f084f934"><td class="memItemLeft" align="right" valign="top"><a id="a601fb7cf1fc15db50c71a826f084f934"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>begin</b> ()</td></tr>
<tr class="separator:a601fb7cf1fc15db50c71a826f084f934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81fed67ce943adf24d4c996ca11cddf7"><td class="memItemLeft" align="right" valign="top"><a id="a81fed67ce943adf24d4c996ca11cddf7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>begin</b> (<a class="el" href="classaudio__tools_1_1_v_b_a_n_config.html">VBANConfig</a> cfg)</td></tr>
<tr class="separator:a81fed67ce943adf24d4c996ca11cddf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd15675a5e391c34cccefa7181354bb"><td class="memItemLeft" align="right" valign="top"><a id="affd15675a5e391c34cccefa7181354bb"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_audio_info_source.html#affd15675a5e391c34cccefa7181354bb">clearNotifyAudioChange</a> ()</td></tr>
<tr class="memdesc:affd15675a5e391c34cccefa7181354bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes all change notify subscriptions. <br /></td></tr>
<tr class="separator:affd15675a5e391c34cccefa7181354bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa456d6a8d8d6e8d871c76466465a8be1"><td class="memItemLeft" align="right" valign="top"><a id="aa456d6a8d8d6e8d871c76466465a8be1"></a>
<a class="el" href="classaudio__tools_1_1_v_b_a_n_config.html">VBANConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><b>defaultConfig</b> (<a class="el" href="group__basic.html#ga8cbd91a8bac9b5ab425112be1620eb49">RxTxMode</a> mode=TX_MODE)</td></tr>
<tr class="separator:aa456d6a8d8d6e8d871c76466465a8be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc34417a19a7b70626d19c41072d72a5"><td class="memItemLeft" align="right" valign="top"><a id="adc34417a19a7b70626d19c41072d72a5"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> ()</td></tr>
<tr class="separator:adc34417a19a7b70626d19c41072d72a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af654b48544c195ab99fe27e7bc3ed5fe"><td class="memItemLeft" align="right" valign="top"><a id="af654b48544c195ab99fe27e7bc3ed5fe"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>flush</b> () override</td></tr>
<tr class="separator:af654b48544c195ab99fe27e7bc3ed5fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a475bc9908ea8a1d67e5cc1c1f67a71b2"><td class="memItemLeft" align="right" valign="top"><a id="a475bc9908ea8a1d67e5cc1c1f67a71b2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_audio_info_source.html#a475bc9908ea8a1d67e5cc1c1f67a71b2">isNotifyActive</a> ()</td></tr>
<tr class="memdesc:a475bc9908ea8a1d67e5cc1c1f67a71b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the automatic <a class="el" href="structaudio__tools_1_1_audio_info.html" title="Basic Audio information which drives e.g. I2S.">AudioInfo</a> update is active. <br /></td></tr>
<tr class="separator:a475bc9908ea8a1d67e5cc1c1f67a71b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d52c0ed98e047d782054fa126b281e5"><td class="memItemLeft" align="right" valign="top"><a id="a0d52c0ed98e047d782054fa126b281e5"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>operator bool</b> ()</td></tr>
<tr class="separator:a0d52c0ed98e047d782054fa126b281e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5c6275ddee80eb02839356b6185c0b"><td class="memItemLeft" align="right" valign="top"><a id="a4c5c6275ddee80eb02839356b6185c0b"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>readBytes</b> (uint8_t *data, size_t len) override</td></tr>
<tr class="separator:a4c5c6275ddee80eb02839356b6185c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e26f40121eda38b0042dcba026ab82"><td class="memItemLeft" align="right" valign="top"><a id="a36e26f40121eda38b0042dcba026ab82"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_audio_stream.html#a36e26f40121eda38b0042dcba026ab82">readSilence</a> (uint8_t *buffer, size_t length)</td></tr>
<tr class="memdesc:a36e26f40121eda38b0042dcba026ab82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Source to generate silence: just sets the buffer to 0. <br /></td></tr>
<tr class="separator:a36e26f40121eda38b0042dcba026ab82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b1cdb06807ff2dc37acbaff63410b9"><td class="memItemLeft" align="right" valign="top"><a id="aa5b1cdb06807ff2dc37acbaff63410b9"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_audio_info_source.html#aa5b1cdb06807ff2dc37acbaff63410b9">removeNotifyAudioChange</a> (<a class="el" href="classaudio__tools_1_1_audio_info_support.html">AudioInfoSupport</a> &amp;bi)</td></tr>
<tr class="memdesc:aa5b1cdb06807ff2dc37acbaff63410b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a target in order not to be notified about audio changes. <br /></td></tr>
<tr class="separator:aa5b1cdb06807ff2dc37acbaff63410b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1fdd56031f1195cb221ab855fb6a102"><td class="memItemLeft" align="right" valign="top"><a id="ad1fdd56031f1195cb221ab855fb6a102"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_v_b_a_n_stream.html#ad1fdd56031f1195cb221ab855fb6a102">setAudioInfo</a> (<a class="el" href="structaudio__tools_1_1_audio_info.html">AudioInfo</a> info) override</td></tr>
<tr class="memdesc:ad1fdd56031f1195cb221ab855fb6a102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the input <a class="el" href="structaudio__tools_1_1_audio_info.html" title="Basic Audio information which drives e.g. I2S.">AudioInfo</a>. <br /></td></tr>
<tr class="separator:ad1fdd56031f1195cb221ab855fb6a102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a909f118906f9cf7024baae224dcd90a7"><td class="memItemLeft" align="right" valign="top"><a id="a909f118906f9cf7024baae224dcd90a7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_audio_info_source.html#a909f118906f9cf7024baae224dcd90a7">setNotifyActive</a> (bool flag)</td></tr>
<tr class="memdesc:a909f118906f9cf7024baae224dcd90a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivate/Reactivate automatic <a class="el" href="structaudio__tools_1_1_audio_info.html" title="Basic Audio information which drives e.g. I2S.">AudioInfo</a> updates: (default is active) <br /></td></tr>
<tr class="separator:a909f118906f9cf7024baae224dcd90a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1220e7e3542f5a84c21fe2f7cef194c"><td class="memItemLeft" align="right" valign="top"><a id="ae1220e7e3542f5a84c21fe2f7cef194c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setOutput</b> (<a class="el" href="classaudio__tools_1_1_print.html">Print</a> &amp;out)</td></tr>
<tr class="separator:ae1220e7e3542f5a84c21fe2f7cef194c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7597ef706dd1aa590903ce9e095db20a"><td class="memItemLeft" align="right" valign="top"><a id="a7597ef706dd1aa590903ce9e095db20a"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> (const uint8_t *data, size_t len) override</td></tr>
<tr class="separator:a7597ef706dd1aa590903ce9e095db20a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffba128cba62b029746648f6946945c"><td class="memItemLeft" align="right" valign="top"><a id="adffba128cba62b029746648f6946945c"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> (uint8_t ch) override</td></tr>
<tr class="separator:adffba128cba62b029746648f6946945c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89418aeb557f65a8f1a0aed755633b1"><td class="memItemLeft" align="right" valign="top"><a id="ad89418aeb557f65a8f1a0aed755633b1"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_audio_stream.html#ad89418aeb557f65a8f1a0aed755633b1">writeSilence</a> (size_t len)</td></tr>
<tr class="memdesc:ad89418aeb557f65a8f1a0aed755633b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes len bytes of silence (=0). <br /></td></tr>
<tr class="separator:ad89418aeb557f65a8f1a0aed755633b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:abfcd7edb142ebfb8c27b5166c01e8891"><td class="memItemLeft" align="right" valign="top"><a id="abfcd7edb142ebfb8c27b5166c01e8891"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>begin_rx</b> ()</td></tr>
<tr class="separator:abfcd7edb142ebfb8c27b5166c01e8891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a247001624519b9d75789ec437393b6"><td class="memItemLeft" align="right" valign="top"><a id="a0a247001624519b9d75789ec437393b6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>begin_tx</b> ()</td></tr>
<tr class="separator:a0a247001624519b9d75789ec437393b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fbeb81e92f0da868a59f255ba8b8242"><td class="memItemLeft" align="right" valign="top"><a id="a3fbeb81e92f0da868a59f255ba8b8242"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>configure_tx</b> ()</td></tr>
<tr class="separator:a3fbeb81e92f0da868a59f255ba8b8242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40264f250171d0fa3e9690381bb0376b"><td class="memItemLeft" align="right" valign="top"><a id="a40264f250171d0fa3e9690381bb0376b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>configure_vban</b> (VBanSampleRates rate)</td></tr>
<tr class="separator:a40264f250171d0fa3e9690381bb0376b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc00b141650b11fe19d4c7055d96a075"><td class="memItemLeft" align="right" valign="top"><a id="afc00b141650b11fe19d4c7055d96a075"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><b>not_supported</b> (int out, const char *msg=&quot;&quot;)</td></tr>
<tr class="separator:afc00b141650b11fe19d4c7055d96a075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9a665a387a8c4fbf7fed14bbbfc093"><td class="memItemLeft" align="right" valign="top"><a id="a6a9a665a387a8c4fbf7fed14bbbfc093"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>notifyAudioChange</b> (<a class="el" href="structaudio__tools_1_1_audio_info.html">AudioInfo</a> info)</td></tr>
<tr class="separator:a6a9a665a387a8c4fbf7fed14bbbfc093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4080ec5f567ff8158b1db6ff4e501122"><td class="memItemLeft" align="right" valign="top"><a id="a4080ec5f567ff8158b1db6ff4e501122"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_v_b_a_n_stream.html#a4080ec5f567ff8158b1db6ff4e501122">receive_udp</a> (AsyncUDPPacket &amp;packet)</td></tr>
<tr class="memdesc:a4080ec5f567ff8158b1db6ff4e501122"><td class="mdescLeft">&#160;</td><td class="mdescRight">VBAN adjusts the number of samples per packet according to sample rate. Assuming 16-bit PCM mono, sample rates 11025, 22050, 44100, and 88200 yield packets containing 64, 128, 256, and 256 samples per packet, respectively. The even-thousands sample rates below 48000 yield non-power-of-2 lengths. For example, sample rate 24000 yields 139 samples per packet. This VBAN-&gt;DMA-&gt;DAC method seems to require the dma buffer length be set equal to the number of samples in each VBAN packet. ESP32 I2S/DMA does not seem to handle non-power-of-2 buffer lengths well. Sample rate 24000 doesn't work reliably at all. Sample rate 32000 is stable but stutters. Recommend selecting from sample rates 11025, 22050, 44100, and above And set samplesPerPacket to 64 for 11025, 128 for 22050, or 256 for all else. <br /></td></tr>
<tr class="separator:a4080ec5f567ff8158b1db6ff4e501122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5caf99a24686511722c4c9f94c4ec52e"><td class="memItemLeft" align="right" valign="top"><a id="a5caf99a24686511722c4c9f94c4ec52e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>refillReadBuffer</b> ()</td></tr>
<tr class="separator:a5caf99a24686511722c4c9f94c4ec52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0941d851dd4f56cd6a24f54b47f6be5e"><td class="memItemLeft" align="right" valign="top"><a id="a0941d851dd4f56cd6a24f54b47f6be5e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>start_wifi</b> ()</td></tr>
<tr class="separator:a0941d851dd4f56cd6a24f54b47f6be5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37a068edebdd418ca19a1ea8a442748"><td class="memItemLeft" align="right" valign="top"><a id="ab37a068edebdd418ca19a1ea8a442748"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>toString</b> (IPAddress adr)</td></tr>
<tr class="separator:ab37a068edebdd418ca19a1ea8a442748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7100b98f9d839a50f4d851f98828ee6d"><td class="memItemLeft" align="right" valign="top"><a id="a7100b98f9d839a50f4d851f98828ee6d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>vban_sample_rate</b> ()</td></tr>
<tr class="separator:a7100b98f9d839a50f4d851f98828ee6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa66a35e5edf58ce00047afcd1d4f455e"><td class="memItemLeft" align="right" valign="top"><a id="aa66a35e5edf58ce00047afcd1d4f455e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_timeout</b> = 10</td></tr>
<tr class="separator:aa66a35e5edf58ce00047afcd1d4f455e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9ad4ada6301224c25d2a2813e7179c"><td class="memItemLeft" align="right" valign="top"><a id="adf9ad4ada6301224c25d2a2813e7179c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>available_active</b> = false</td></tr>
<tr class="separator:adf9ad4ada6301224c25d2a2813e7179c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e304cb38c1804436533f58ba346a571"><td class="memItemLeft" align="right" valign="top"><a id="a3e304cb38c1804436533f58ba346a571"></a>
const IPAddress&#160;</td><td class="memItemRight" valign="bottom"><b>broadcast_address</b> {0, 0, 0, 0}</td></tr>
<tr class="separator:a3e304cb38c1804436533f58ba346a571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b8f3efe5394dc3ebb4318f5b476b2b"><td class="memItemLeft" align="right" valign="top"><a id="a45b8f3efe5394dc3ebb4318f5b476b2b"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>bytes_received</b> = 0</td></tr>
<tr class="separator:a45b8f3efe5394dc3ebb4318f5b476b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50d942f29c41af651df498b714acc24"><td class="memItemLeft" align="right" valign="top"><a id="ae50d942f29c41af651df498b714acc24"></a>
<a class="el" href="classaudio__tools_1_1_v_b_a_n_config.html">VBANConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><b>cfg</b></td></tr>
<tr class="separator:ae50d942f29c41af651df498b714acc24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47385aa19435f5fca9d3083a748258c5"><td class="memItemLeft" align="right" valign="top"><a id="a47385aa19435f5fca9d3083a748258c5"></a>
<a class="el" href="structaudio__tools_1_1_audio_info.html">AudioInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><b>info</b></td></tr>
<tr class="separator:a47385aa19435f5fca9d3083a748258c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaba7fcedcb403536c79ee7f04de17fc"><td class="memItemLeft" align="right" valign="top"><a id="aeaba7fcedcb403536c79ee7f04de17fc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_notify_active</b> = true</td></tr>
<tr class="separator:aeaba7fcedcb403536c79ee7f04de17fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35c4e2ef458c36e8d36676958cc9cd3"><td class="memItemLeft" align="right" valign="top"><a id="ad35c4e2ef458c36e8d36676958cc9cd3"></a>
<a class="el" href="classaudio__tools_1_1_vector.html">Vector</a>&lt; <a class="el" href="classaudio__tools_1_1_audio_info_support.html">AudioInfoSupport</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>notify_vector</b></td></tr>
<tr class="separator:ad35c4e2ef458c36e8d36676958cc9cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa42c30e02e51ec7cc38ea4ab215e0db4"><td class="memItemLeft" align="right" valign="top"><a id="aa42c30e02e51ec7cc38ea4ab215e0db4"></a>
<a class="el" href="classaudio__tools_1_1_print.html">Print</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>p_out</b> = nullptr</td></tr>
<tr class="separator:aa42c30e02e51ec7cc38ea4ab215e0db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a253e0640ca1d914e479ea37e97d1ba12"><td class="memItemLeft" align="right" valign="top"><a id="a253e0640ca1d914e479ea37e97d1ba12"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>packet_counter</b> = 0</td></tr>
<tr class="separator:a253e0640ca1d914e479ea37e97d1ba12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77caa83ea1ddb01a89be9568f159a3d"><td class="memItemLeft" align="right" valign="top"><a id="ad77caa83ea1ddb01a89be9568f159a3d"></a>
<a class="el" href="classaudio__tools_1_1_buffer_r_t_o_s.html">BufferRTOS</a>&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>rx_buffer</b> { 0}</td></tr>
<tr class="separator:ad77caa83ea1ddb01a89be9568f159a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2816d133f2fb55628d3f7faca13acf"><td class="memItemLeft" align="right" valign="top"><a id="afc2816d133f2fb55628d3f7faca13acf"></a>
<a class="el" href="classaudio__tools_1_1_throttle.html">Throttle</a>&#160;</td><td class="memItemRight" valign="bottom"><b>throttle</b></td></tr>
<tr class="separator:afc2816d133f2fb55628d3f7faca13acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf64bd29ec689f2d7574efbb63f440bb"><td class="memItemLeft" align="right" valign="top"><a id="adf64bd29ec689f2d7574efbb63f440bb"></a>
<a class="el" href="classaudio__tools_1_1_ring_buffer.html">RingBuffer</a>&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>tmp_in</b> {0}</td></tr>
<tr class="separator:adf64bd29ec689f2d7574efbb63f440bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add363d597c7d8108a5350406105d158d"><td class="memItemLeft" align="right" valign="top"><a id="add363d597c7d8108a5350406105d158d"></a>
<a class="el" href="classaudio__tools_1_1_ring_buffer.html">RingBuffer</a>&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>tmp_out</b> {0}</td></tr>
<tr class="separator:add363d597c7d8108a5350406105d158d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d011dfc901fcb4204ab139d9202eb7c"><td class="memItemLeft" align="right" valign="top"><a id="a4d011dfc901fcb4204ab139d9202eb7c"></a>
<a class="el" href="classaudio__tools_1_1_single_buffer.html">SingleBuffer</a>&lt; int16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>tx_buffer</b> {0}</td></tr>
<tr class="separator:a4d011dfc901fcb4204ab139d9202eb7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa4e05923d1f680b56a38a00abccd63"><td class="memItemLeft" align="right" valign="top"><a id="aafa4e05923d1f680b56a38a00abccd63"></a>
AsyncUDP&#160;</td><td class="memItemRight" valign="bottom"><b>udp</b></td></tr>
<tr class="separator:aafa4e05923d1f680b56a38a00abccd63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae934f2015a617684d5926e92750ec327"><td class="memItemLeft" align="right" valign="top"><a id="ae934f2015a617684d5926e92750ec327"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>udp_connected</b> = false</td></tr>
<tr class="separator:ae934f2015a617684d5926e92750ec327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81c39d07318f1110f474bba2e168e347"><td class="memItemLeft" align="right" valign="top"><a id="a81c39d07318f1110f474bba2e168e347"></a>
<a class="el" href="struct_v_ban.html">VBan</a>&#160;</td><td class="memItemRight" valign="bottom"><b>vban</b></td></tr>
<tr class="separator:a81c39d07318f1110f474bba2e168e347"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>VBAN Audio Source and Sink for the ESP32. For further details please see <a href="https://vb-audio.com/Voicemeeter/vban.htm">https://vb-audio.com/Voicemeeter/vban.htm</a> . Inspired by <a href="https://github.com/rkinnett/ESP32-VBAN-Audio-Source/tree/master">https://github.com/rkinnett/ESP32-VBAN-Audio-Source/tree/master</a> and <a href="https://github.com/rkinnett/ESP32-VBAN-Network-Audio-Player">https://github.com/rkinnett/ESP32-VBAN-Network-Audio-Player</a>. </p>
<dl class="section author"><dt>Author</dt><dd>Phil Schatzmann </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GPLv3 </dd></dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>src/AudioLibs/<a class="el" href="_v_b_a_n_stream_8h_source.html">VBANStream.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
