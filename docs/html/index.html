<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>arduino-audio-tools: Arduino Audio Tools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">arduino-audio-tools
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Arduino Audio Tools </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> Some basic <b>header-only C++ classes</b> that can be used for <b>Audio Processing</b> provided as <b>Arduino Library</b>:</p>
<ul>
<li>We provide different "Audio Sources" and "Audio Sinks" (see next section)</li>
<li>Support for different <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_encoder.html">Encoders</a> and <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_decoder.html">Decoders</a> for MP3, AAC, WAV, FLAC, etc</li>
<li>Different <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_sound_generator.html">Sound Generators</a> (e.g. to generate a sine tone)</li>
<li>Support for <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_effects.html">Sound Effects</a> with different <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_effect.html">Effect Implementations</a> (e.g. Boost, Distortion, Echo, Reverb...)</li>
<li>Different <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_base_buffer.html">Buffer Implementations</a></li>
<li>Different <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_base_converter.html">Converters</a> and <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_filter.html">Filters</a></li>
<li><a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_musical_notes.html">Musical Notes</a> (with frequencies of notes)</li>
<li>A <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_timer_alarm_repeating_def.html">Repeating Timer</a> (e.g. for sampling audio data using exact times)</li>
<li>Desktop Integration: Building of Arduino Audio Sketches to be run on <a href="https://github.com/pschatzmann/arduino-audio-tools/wiki/Running-an-Audio-Sketch-on-the-Desktop">Linux, Windows and OS/X</a></li>
</ul>
<p >This functionality provides the glue which makes different audio processing components and libraries work together. We also provide <a href="https://github.com/pschatzmann/arduino-audio-tools/wiki/Examples">plenty of examples</a> that demonstrate how to implement the different scenarios. The <b>design philosophy</b> is based on the Arduino conventions: we use the <code>begin()</code> and <code>end()</code> methods to start and stop the processing and we propagate the <b>use of Streams</b>. We all know the <a href="https://pschatzmann.github.io/arduino-audio-tools/html/class_stream.html">Arduino Streams</a>: We usually use them to write out print messages and sometimes we use them to read the output from Serial devices. The same thing applies to “Audio Streams”: You can read audio data from “Audio Sources” and you write them to “Audio Sinks”.</p>
<p >As “Audio Sources” we will have e.g.:</p>
<ul>
<li>Digital Microphones – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_i2_s_stream.html">I2SStream</a></li>
<li>Analog Microphones – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_analog_audio_stream.html">AnalogAudioStream</a></li>
<li>Files on the Internet – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_u_r_l_stream.html">URLStream</a></li>
<li>Streaming Internet Radios - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_i_c_y_stream.html">ICYStream</a></li>
<li>Generated Sound – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_generated_sound_stream.html">GeneratedSoundStream</a></li>
<li>Mobile Phone A2DP Bluetooth – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_a2_d_p_stream.html">A2DPStream</a></li>
<li>Binary Data in Flash Memory – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_memory_stream.html">MemoryStream</a></li>
<li>Audio generated by STK Framwork - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_s_t_k_stream.html">STKStream</a></li>
<li>Desktop Integration - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_port_audio_stream.html">PortAudioStream</a></li>
<li>A Timer based Source - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_timer_callback_audio_stream.html">TimerCallbackAudioStream</a></li>
<li>ESP32 AudioKit - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_kit_stream.html">AudioKitStream</a></li>
<li>Input using FIR, IIR Filters - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_filtered_stream.html">FilteredStream</a></li>
<li>Tensorflow Lite - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_tf_lite_audio_stream.html">TfLiteAudioStream</a></li>
<li>Converting Streams - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_volume_stream.html">VolumeStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_resample_stream.html">ResampleStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_format_converter_stream.html">FormatConverterStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_number_format_converter_stream.html">NumberFormatConverterStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_channel_format_converter_stream.html">ChannelFormatConverterStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_converted_stream.html">ConvertedStream</a></li>
<li>Communication - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_e_s_p_now_stream.html">ESPNowStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_u_d_p_stream.html">UDPStream</a></li>
<li>Any other Arduino Classes implementing Streams: SD, Ethernet etc</li>
</ul>
<p >As “Audio Sinks” we will have e.g:</p>
<ul>
<li>external DAC – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_i2_s_stream.html">I2SStream</a></li>
<li>Analog output e.g. to an Amplifier – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_analog_audio_stream.html">AnalogAudioStream</a></li>
<li>Output using PWM – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_p_w_m_audio_stream_base.html">PWMAudioStream</a></li>
<li>Output to SPDIF/TOSLINK - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_s_p_d_i_f_stream.html">SPDIFStream</a></li>
<li>Bluetooth Speakers – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_a2_d_p_stream.html">A2DPStream</a></li>
<li>Serial to display the data as CSV – <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_csv_stream.html">CsvStream</a></li>
<li>Serial to display the data as hex dump - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_hex_dump_stream.html">HexDumpStream</a></li>
<li>Encoding and Decoding of Audio <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_encoded_audio_stream.html">EncodedAudioStream</a></li>
<li>Desktop Integration - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_port_audio_stream.html">PortAudioStream</a></li>
<li>ID3 Metadata for MP3 - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_meta_data_i_d3.html">MetaDataID3</a></li>
<li>A Timer based Sink - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_timer_callback_audio_stream.html">TimerCallbackAudioStream</a></li>
<li>ESP32 AudioKit - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_kit_stream.html">AudioKitStream</a></li>
<li>VS1053 Codec Module - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_v_s1053_stream.html">VS1053Stream</a></li>
<li>Callback integration e.g. with ESP8266Audio <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_output_with_callback.html">AudioOutputWithCallback</a></li>
<li>Output using FIR, IRR Filters - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_filtered_stream.html">FilteredStream</a></li>
<li>Determine the Volume - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_volume_print.html">VolumePrint</a></li>
<li>Split the Output to different Destinations - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_multi_output.html">MultiOutput</a></li>
<li>3 Band Equilizer - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_equilizer3_bands.html">Equilizer3Bands</a></li>
<li>FFT - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_real_f_f_t.html">AudioRealFFT</a> and <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_kiss_f_f_t.html">AudioKissFFT</a></li>
<li>Tensorflow Lite - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_tf_lite_audio_stream.html">TfLiteAudioStream</a></li>
<li>Converting Streams - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_volume_stream.html">VolumeStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_resample_stream.html">ResampleStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_format_converter_stream.html">FormatConverterStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_number_format_converter_stream.html">NumberFormatConverterStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_channel_format_converter_stream.html">ChannelFormatConverterStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_converted_stream.html">ConvertedStream</a></li>
<li>Communication - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_e_s_p_now_stream.html">ESPNowStream</a>, <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_u_d_p_stream.html">UDPStream</a></li>
<li>Multiuser-Webserver for PCM Output - <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_w_a_v_server_ex.html">AudioWAVServerEx</a></li>
<li>Any other Arduino Classes implementing Streams: SD, Ethernet etc</li>
</ul>
<h2><a class="anchor" id="autotoc_md1"></a>
Examples</h2>
<p >Here is an simple example which streams a file from the Flash Memory and writes it to I2S:</p>
<div class="fragment"><div class="line">#include &quot;AudioTools.h&quot;</div>
<div class="line">#include &quot;StarWars30.h&quot;</div>
<div class="line"> </div>
<div class="line">uint8_t channels = 2;</div>
<div class="line">uint16_t sample_rate = 22050;</div>
<div class="line"> </div>
<div class="line">MemoryStream music(StarWars30_raw, StarWars30_raw_len);</div>
<div class="line">I2SStream i2s;  // Output to I2S</div>
<div class="line">StreamCopy copier(i2s, music); // copies sound into i2s</div>
<div class="line"> </div>
<div class="line">void setup(){</div>
<div class="line">    Serial.begin(115200);</div>
<div class="line"> </div>
<div class="line">    auto config = i2s.defaultConfig(TX_MODE);</div>
<div class="line">    config.sample_rate = sample_rate;</div>
<div class="line">    config.channels = channels;</div>
<div class="line">    config.bits_per_sample = 16;</div>
<div class="line">    i2s.begin(config);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop(){</div>
<div class="line">    if (!copier.copy()){</div>
<div class="line">      i2s.end();</div>
<div class="line">      stop();</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p> Each stream has it's own <a href="https://pschatzmann.github.io/arduino-audio-tools/html/structaudio__tools_1_1_audio_base_info.html">configuration object</a> that should be passed to the begin method. The defaultConfig() method is providing a default proposal which will usually "just work". Please consult the class documentation for the available configuration parameters. You can also <b>easily adapt</b> any provided examples: If you e.g. replace the I2SStream with the AnalogAudioStream class, you will get analog instead of digital output.</p>
<p >Further examples can be found in the <a href="https://github.com/pschatzmann/arduino-audio-tools/wiki/Examples">Wiki</a>.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
AudioPlayer</h2>
<p >The library also provides a versatile <a href="https://pschatzmann.github.io/arduino-audio-tools/html/classaudio__tools_1_1_audio_player.html">AudioPlayer</a>. Further information can be found in the <a href="https://github.com/pschatzmann/arduino-audio-tools/wiki/The-Audio-Player-Class">Wiki</a></p>
<h2><a class="anchor" id="autotoc_md3"></a>
Logging</h2>
<p >The application uses a built in logger (see AudioLogger.h and <a class="el" href="_audio_config_8h_source.html">AudioConfig.h</a>). You can e.g. deactivate the logging by changing USE_AUDIO_LOGGING to false in the <a class="el" href="_audio_config_8h_source.html">AudioConfig.h</a>:</p>
<div class="fragment"><div class="line">#define USE_AUDIO_LOGGING false</div>
<div class="line">#define LOG_LEVEL AudioLogger::Warning</div>
<div class="line">#define LOG_STREAM Serial</div>
</div><!-- fragment --><p >Per default we use the log level warning and the logging output is going to Serial. You can also change this in your sketch by calling AudioLogger begin with the output stream and the log level e.g:</p>
<div class="fragment"><div class="line">AudioLogger::instance().begin(Serial, AudioLogger::Debug);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
Optional Libraries</h2>
<p >Dependent on the example you might need to install some of the following libraries:</p>
<ul>
<li><a href="https://github.com/pschatzmann/ESP32-A2DP">ESP32-A2DP Library</a> to support A2DP Bluetooth Audio</li>
<li><a href="https://github.com/pschatzmann/arduino-audio-tools/wiki/Encoding-and-Decoding-of-Audio">Many Codec Libraries</a> which are described in the Wiki</li>
<li><a href="https://github.com/pschatzmann/arduino-audiokit">arduino-audiokit</a> Support for the <b>ESP32 AudioKit</b> and decoder chips (ES8388, A1S, etc)</li>
<li><a href="https://github.com/pschatzmann/arduino-vs1053">arduino-vs1053</a> Support for <b>VS1053 audio modules</b></li>
<li><a href="https://github.com/pschatzmann/arduino-midi">arduino-midi</a> A simple <b>MIDI</b> message parser and generator</li>
<li><a href="https://github.com/pschatzmann/arduino-SAM">SAM</a> A Text to Speech Engine</li>
<li><a href="https://github.com/pschatzmann/TTS">TTS</a> A Text to Speech Engine</li>
<li><a href="https://github.com/pschatzmann/arduino-flite">flite</a> A Text to Speech Engine</li>
<li><a href="https://github.com/pschatzmann/arduino-simple-tts">simple-tts</a> A Simple TTS engine using prerecorded audio (e.g. to implement Talking Clock, Talking Numbers)</li>
<li><a href="https://github.com/pschatzmann/Arduino-STK">arduino-stk</a> Synthesis ToolKit in C++ (STK)</li>
<li><a href="https://github.com/pschatzmann/Maximilian">Maximilian</a> cross-platform and multi-target audio synthesis and signal processing library</li>
<li><a href="https://github.com/pschatzmann/Mozzi">Mozzi</a> A sound synthesis library for Arduino</li>
<li><a href="https://github.com/pschatzmann/tflite-micro-arduino-examples">Tensorflow Lite</a> Machine Learning for Arduino</li>
<li><a href="https://github.com/pschatzmann/kissfft">KissFFT</a> Fast Fourier Transform FFT Library</li>
<li><a href="https://github.com/pschatzmann/esp32-fft">esp32-fft</a> Another FFT library (not only for the ESP32)</li>
<li><a href="https://github.com/pschatzmann/rp2040-i2s">rp2040-i2s</a> I2S library for MBED RP2040</li>
<li><a href="https://github.com/pschatzmann/stm32f411-i2s">stm32f411-i2s</a> I2S library for the stm32f411</li>
<li><a href="https://github.com/greiman/SdFat">SdFat Library</a> to read and write files supporting SD cards with FAT16/FAT32 and exFAT</li>
<li><a href="https://www.arduino.cc/en/reference/SD">SD Library</a> to read and write files supporting SD cards with FAT16 and FAT32</li>
<li><a href="https://github.com/pschatzmann/TinyHttp">TinyHttp</a> a http server that also supports audio for multiple users</li>
</ul>
<h1><a class="anchor" id="autotoc_md5"></a>
Show and Tell</h1>
<p >Get some inspiration <a href="https://github.com/pschatzmann/arduino-audio-tools/discussions/categories/show-and-tell">from projects that were using this library</a> or share your projects with the community.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Documentation</h2>
<ul>
<li>Here is the generated <a href="https://pschatzmann.github.io/arduino-audio-tools/html/namespaceaudio__tools.html">Class Documentation</a>.</li>
<li>Please also check out the <a href="https://github.com/pschatzmann/arduino-audio-tools/wiki">Information in the Wiki</a></li>
<li>You also might find further information in <a href="https://www.pschatzmann.ch/home/category/machine-sound/">one of my Blogs</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
Installation in Arduino</h2>
<p >You can download the library as zip and call include Library -&gt; zip library. Or you can git clone this project into the Arduino libraries folder e.g. with</p>
<div class="fragment"><div class="line">cd  ~/Documents/Arduino/libraries</div>
<div class="line">git clone pschatzmann/arduino-audio-tools.git</div>
</div><!-- fragment --><p >I recommend to use git because you can easily update to the latest version just by executing the <code>git pull</code> command in the project folder.</p>
<p >If you want to use the library in PlatformIO, you can find a <a href="https://github.com/pschatzmann/arduino-audio-tools/wiki/Working-with-PlatformIO">detailed description in the Wiki</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
